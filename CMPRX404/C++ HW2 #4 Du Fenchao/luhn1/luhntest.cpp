/*----------------------------------------------------------------
Copyright (c) 2018 Author: Jagadeesh Vasudevamurthy
file: luhntest.cpp

On linux:
g++ luhn.cpp luhntest.cpp
valgrind a.out

-----------------------------------------------------------------*/

/*----------------------------------------------------------------
This file test luhn object
You cannot change this file. All tests must pass
-----------------------------------------------------------------*/

/*----------------------------------------------------------------
All includes here
-----------------------------------------------------------------*/
#include "luhn.h"

/*----------------------------------------------------------------
https://www.paypalobjects.com/en_US/vhelp/paypalmanager_help/credit_card_numbers.htm
-----------------------------------------------------------------*/
void test1() {
  static const long long list[] = { 378282246310005, 371449635398431, 378734493671000, 5610591081018250, 30569309025904, 38520000023237, 6011111111111117, 6011000990139424, 3530111333300000, 5105105105105100, 4111111111111111, 4012888888881881 };
  int s = sizeof(list) / sizeof(long long);
  for (int i = 0; i < s; ++i) {
    luhn a;
    assert(a.check(list[i]));
  }
}

/*----------------------------------------------------------------
test bed
-----------------------------------------------------------------*/
void testbed() {
  luhn a;
  assert(a.check(4012888888881881));
  assert(a.check(378282246310005));
  assert(a.check(4012888888881880) == false);
  assert(a.check(4222222222222));
  test1();
}

/*----------------------------------------------------------------
main
-----------------------------------------------------------------*/
int main() {
  testbed();
  return 0;
}

//EOF

